<!DOCTYPE html>
<html lang="ja">
<head>
  <link rel="stylesheet" href="style.css">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ç®±é¯–æ”»åŸæˆ¦</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
  </style>
</head>
<body class="text-white min-h-screen flex flex-col items-center px-6 py-10 bg-gradient-to-b from-gray-800 via-gray-900 to-black">
  <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
  <h1 class="text-4xl font-bold mb-10 drop-shadow-lg text-center">ğŸ¯ ç®±é¯–æ”»åŸæˆ¦</h1>

  <!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ -->
  <div class="space-y-4 mb-10">
    <button id="toggleStatsBtn" class="w-60 h-16 text-lg font-medium rounded-xl glass hover:bg-purple-500 hover:bg-opacity-30 transition-all shadow-lg">
      ğŸ“Š è©¦åˆçµ±è¨ˆ
    </button>
    <button class="w-60 h-16 text-lg font-medium rounded-xl glass hover:bg-teal-500 hover:bg-opacity-30 transition-all shadow-lg">
      ğŸ“˜ ã‚¯ãƒ©ã‚¹èª¬æ˜
    </button>
  </div>

  <!-- çµ±è¨ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
  <div id="statsSection" class="toggle-content w-full max-w-4xl">
    <div id="statsContainer" class="space-y-6 w-full">
      <!-- çµ±è¨ˆã‚«ãƒ¼ãƒ‰ãŒå‹•çš„ã«ã“ã“ã¸è¿½åŠ ã•ã‚Œã¾ã™ -->
    </div>
  </div>

  <script>
    // WebSocketæ¥ç¶š
    const ws = new WebSocket("ws://" + location.host);

    ws.onopen = function() {
      console.log("WebSocketæ¥ç¶šãŒç¢ºç«‹ã•ã‚Œã¾ã—ãŸã€‚");
    };

    ws.onmessage = function(event) {
      const statsData = JSON.parse(event.data);  // ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ï¼ˆJSONå½¢å¼ï¼‰ã‚’ãƒ‘ãƒ¼ã‚¹

      // å—ã‘å–ã£ãŸè©¦åˆçµ±è¨ˆã‚’ç”»é¢ã«è¡¨ç¤º
      const statsContainer = document.getElementById("statsContainer");
      statsContainer.innerHTML = "";  // ä»¥å‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢

      statsData.forEach(stat => {
        // å„çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¿½åŠ 
        const statCard = document.createElement("div");
        statCard.classList.add("p-6", "bg-gray-700", "rounded-xl", "shadow-lg");
        statCard.innerHTML = `
          <h3 class="text-xl font-semibold">${stat.title}</h3>
          <p>${stat.value}</p>
        `;
        statsContainer.appendChild(statCard);
      });
    };

    ws.onclose = function() {
      console.log("WebSocketæ¥ç¶šãŒåˆ‡æ–­ã•ã‚Œã¾ã—ãŸã€‚");
    };

    // è©¦åˆçµ±è¨ˆè¡¨ç¤ºãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
    document.getElementById("toggleStatsBtn").addEventListener("click", function() {
      const statsSection = document.getElementById("statsSection");
      statsSection.classList.toggle("hidden");  // çµ±è¨ˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®è¡¨ç¤ºãƒ»éè¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
    });
  </script>

  <script src="scripts.js" defer></script>
</body>
</html>
